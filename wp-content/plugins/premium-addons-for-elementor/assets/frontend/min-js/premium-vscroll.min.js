!function(x){function e(e,t){var o=elementorFrontend.getCurrentDeviceMode(),r="mobile"===o?"elementor-hidden-phone":"elementor-hidden-"+o;e.closest("section.elementor-element").hasClass(r)||((e=(r=e.find(".premium-vscroll-wrap")).data("settings")).deviceType=o,new premiumVerticalScroll(r,e).init())}window.premiumVerticalScroll=function(e,m){var l,u=this,d=x(window),t=elementorFrontend.getCurrentDeviceMode(),v=!["desktop","widescreen","laptop"].includes(t),p=e,f=e.find(".premium-vscroll-sections-wrap").length,i=x("html, body"),h=x(".premium-vscroll-dot-item",p),s=x(".premium-vscroll-nav-item",p),m=x.extend({},{speed:700,offset:0,fullSection:!0},m),g={},a=null,w=!1,C=!0,S=[],c=0;function y(e){return Object.keys(e)[0]}function T(e){return Object.keys(e)[Object.keys(e).length-1]}jQuery.extend(jQuery.easing,{easeInOutCirc:function(e,t,o,r,n){return(t/=n/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+o:r/2*(Math.sqrt(1-(t-=2)*t)+1)+o}}),u.init=function(){(m.fullTouch||!v&&m.fullSection)&&m.fullCheckOverflow&&u.setSectionsOverflow(),u.setSectionsData(),u.vscrollEffects(),h.on("click.premiumVerticalScroll",u.onNavDotChange),s.on("click.premiumVerticalScroll",u.onNavDotChange),h.on("mouseenter.premiumVerticalScroll",u.onNavDotEnter),h.on("mouseleave.premiumVerticalScroll",u.onNavDotLeave),"desktop"===m.deviceType&&d.on("scroll.premiumVerticalScroll",u.onWheel),d.on("resize.premiumVerticalScroll orientationchange.premiumVerticalScroll",u.debounce(50,u.onResize)),d.on("load",function(){u.setSectionsData(),(m.fullTouch||!v&&m.fullSection)&&u.sectionsOverflowRefresh(),u.checkCurrentActive()}),u.keyboardHandler(),u.scrollHandler(),m.fullSection&&u.fullSectionHandler(),m.animation&&p.find(".premium-vscroll-dots").removeClass("elementor-invisible").addClass("animated "+m.animation+" animated-"+m.duration)},u.checkCurrentActive=function(){var e=Object.keys(g)[0],e=g[e].offset;e>=d.scrollTop()&&e-d.scrollTop()<200&&(a=1,h.removeClass("active"),x(h[0]).addClass("active")),a&&p.find(".premium-vscroll-dots").removeClass("premium-vscroll-dots-hide")},u.setSectionsOverflow=function(){h.each(function(){var e,t=x(this).data("menuanchor"),o=p.find(".premium-vscroll-sections-wrap").data("animation"),r=x("#"+t),o=(o?r.find("> div"):r).outerHeight();o>d.outerHeight()&&50<=o-d.outerHeight()&&(r.find(".elementor").first().wrapInner("<div id='scroller-"+t+"'></div>"),o="mobile"===elementorFrontend.getCurrentDeviceMode()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?d.outerHeight()+100+"px":d.outerHeight(),x("#scroller-"+t).slimScroll({height:o,railVisible:!1,touchScrollStep:60}),e=new IScroll("#scroller-"+t,{mouseWheel:!0,scrollbars:!0,hideScrollbars:!0,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!1}),x("#scroller-"+t).data("iscrollInstance",e),setTimeout(function(){e.refresh()},1500))})},u.sectionsOverflowRefresh=function(){h.each(function(){var e=x(this).data("menuanchor"),e=x("#scroller-"+e).data("iscrollInstance");e&&e.refresh()})},u.setSectionsData=function(){h.each(function(){var e=x(this).data("menuanchor"),t=x("#"+e),o=t.outerHeight();t[0]&&(g[e]={selector:t,offset:Math.round(t.offset().top),height:o})})},u.fullSectionHandler=function(){var e=document.getElementById(p.attr("id"));v&&m.fullTouch?(document.addEventListener("touchstart",u.onTouchStart),document.addEventListener("touchmove",u.onTouchMove,{passive:!1})):f?document.addEventListener?e.addEventListener("wheel",u.onWheel,{passive:!1}):e.attachEvent("onmousewheel",u.onWheel):document.addEventListener?document.addEventListener("wheel",u.onWheel,{passive:!1}):document.attachEvent("onmousewheel",u.onWheel)},u.scrollHandler=function(){var e,t=0;for(e in g){var o=g[e].selector;elementorFrontend.waypoint(o,function(){var e=x(this).attr("id");w||(a=e,h.removeClass("active"),s.removeClass("active"),x("[data-menuanchor="+e+"]",p).addClass("active"))},{offset:0!==t?"0%":"-1%",triggerOnce:!1}),t++}},u.keyboardHandler=function(){x(document).keydown(function(e){38==e.keyCode&&u.onKeyUp(e,"up"),40==e.keyCode&&u.onKeyUp(e,"down")})},u.isScrolled=function(e,t){var e=x("#scroller-"+e),o=e.data("iscrollInstance");return!o||("down"===t?0-o.y+e.scrollTop()+1+e.innerHeight()>=e[0].scrollHeight:"up"===t?0<=o.y&&!e.scrollTop():void 0)},u.getEventsPage=function(e){var t=[];return t.y=(void 0!==e.pageY&&(e.pageY||e.pageX)?e:e.touches[0]).pageY,t.x=(void 0!==e.pageX&&(e.pageY||e.pageX)?e:e.touches[0]).pageX,v&&void 0!==e.touches&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t},u.onTouchStart=function(e){C=!0;e=u.getEventsPage(e);c=e.y},u.onTouchMove=function(e){if(C&&u.preventDefault(e),w)return u.preventDefault(e),!1;var t=u.getEventsPage(e);l=t.y;var t=x(e.target).closest(f?".premium-vscroll-temp":".elementor-top-section").attr("id"),e=!1,o=!1,r=d.scrollTop(),n=(x(".premium-vscroll-tooltip").hide(),D()&&(t=u.getFirstSection(g)),k()&&(t=u.getLastSection(g)),(new Date).getTime()),i=(149<S.length&&S.shift(),S.push(Math.abs(l)),n-b);b=n,200<i&&(S=[]),l<c?o="down":c<l&&(o="up"),t&&g.hasOwnProperty(t)?(n=u.checkPrevSection(g,t),i=u.checkNextSection(g,t),"up"===o&&(e=!i&&g[t].offset<r?t:n),"down"===o&&(e=!n&&g[t].offset-m.offset>r+5?t:i),n=u.getAverage(S,10),r=u.getAverage(S,70)<=n,e?(C=!0,p.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"),u.isScrolled(t,o)&&r&&!w&&u.onAnchorChange(e)):(n<=5&&(C=!1),i=f?p:x("#"+t),"down"===o?600<i.offset().top+i.innerHeight()-x(document).scrollTop()&&p.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):"up"===o&&200<i.offset().top-x(document).scrollTop()&&p.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"))):C=!1},u.scrollStop=function(){i.stop(!0)},u.checkNextSection=function(e,t){e=Object.keys(e),t=e.indexOf(t),t=t+=1;return!(t>=e.length)&&e[t]},u.checkPrevSection=function(e,t){var e=Object.keys(e),t=e.indexOf(t),o=--t;return!(t<0)&&e[o]},u.debounce=function(t,o){var r;return function(e){r&&clearTimeout(r),r=setTimeout(function(){o.call(this,e),r=null},t)}},u.visible=function(e,t,o){var r,n,e=e.get(0),i=d.outerHeight(),o=!0!==o||e.offsetWidth*e.offsetHeight;return"function"==typeof e.getBoundingClientRect?(n=0<=(e=e.getBoundingClientRect()).top&&e.top<i,r=0<e.bottom&&e.bottom<=i,n=t?n||r:n&&r,n=e.top<0&&e.bottom>i||n,o&&n):(r=0+i,n=(e=d.position().top)+d.height(),!!o&&(!0===t?e:n)<=r&&0<=(!0===t?n:e))},u.onNavDotEnter=function(){var e=x(this),t=e.data("index");m.tooltips&&(x(".premium-vscroll-tooltip").remove(),x('<div class="premium-vscroll-tooltip"><span>'+m.dotsText[t]+"</span></div>").hide().appendTo(e).fadeIn(200))},u.onNavDotLeave=function(){x(".premium-vscroll-tooltip").fadeOut(200,function(){x(this).remove()})},u.onNavDotChange=function(e){var t=x(this),o=t.index(),r=t.data("menuanchor"),n=null;if(!g.hasOwnProperty(r))return!1;(n=g[r].offset-m.offset)<0&&(n=g[r].offset),w||(w=!0,a=r,s.removeClass("active"),h.removeClass("active"),(t.hasClass("premium-vscroll-nav-item")?x(h[o]):x(s[o])).addClass("active"),t.addClass("active"),i.stop().clearQueue().animate({scrollTop:n},m.speed,"easeInOutCirc",function(){w=!1}))},u.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},u.onAnchorChange=function(e){var t=x("[data-menuanchor="+e+"]",p),o=null;if(!g.hasOwnProperty(e))return!1;(o=g[e].offset-m.offset)<0&&(o=g[e].offset),w||(w=!0,m.addToHistory&&window.history.pushState(null,null,"#"+e),a=e,h.removeClass("active"),s.removeClass("active"),t.addClass("active"),i.animate({scrollTop:o},m.speed,"easeInOutCirc"),setTimeout(function(){w=!1},m.speed<700?700:m.speed))},u.onKeyUp=function(e,t){1===a&&(a=h.eq(0).data("menuanchor"));var t=t||"up",o=x(".premium-vscroll-dot-item[data-menuanchor="+a+"]",p).next(),r=x(".premium-vscroll-dot-item[data-menuanchor="+a+"]",p).prev();if(e.preventDefault(),w)return!1;var e=u.visible(p,!0,!1),n=x(".premium-vscroll-dot-item.active").index(),i=p.find(".premium-vscroll-sections-wrap").data("animation");"up"===t?r[0]&&(r.trigger("click.premiumVerticalScroll"),n===h.length-1&&!e||n===h.length-1&&p.offset().top+p.innerHeight()-x(document).scrollTop()<600?x(".premium-vscroll-dot-item[data-menuanchor="+a+"]",p):(p.find(".premium-vscroll-sections-wrap[data-animation="+i+"] .premium-vscroll-temp:last-of-type>div").removeClass("premium-vscroll-parallax-last"),p.find(".premium-vscroll-sections-wrap[data-animation="+i+"] .premium-vscroll-temp>div").removeClass("premium-vscroll-parallax-position"))):o[0]&&(o.trigger("click.premiumVerticalScroll"),200<p.offset().top-x(document).scrollTop()&&x(".premium-vscroll-dot-item[data-menuanchor="+a+"]",p))};var b=(new Date).getTime();function D(){var e=d.scrollTop(),t=y(g),t=g[t].offset,e=e+d.outerHeight(),o=u.visible(p,!0,!1);return!(t<e)&&!!o}function k(){var e=d.scrollTop(),t=T(g),t=g[t].offset+g[t].height,o=u.visible(p,!0,!1);return!(e<t)&&!!o}u.onWheel=function(e){C&&!v&&u.preventDefault(e);var t=x(e.target).closest(f?".premium-vscroll-temp":".elementor-top-section").attr("id"),o=u.visible(p,!0,!1),r=!1,n=!1,i=!1,e=(e=(e=e)||window.event).wheelDelta||-e.deltaY||-e.detail,l=Math.max(-1,Math.min(1,e))<0?"down":"up",s=d.scrollTop(),a=x(".premium-vscroll-dot-item.active").index(),c=(new Date).getTime(),e=(149<S.length&&S.shift(),S.push(Math.abs(e)),c-b);b=c,200<e&&(S=[]),c=x(event.target).closest(f?".premium-vscroll-temp":".elementor-top-section").attr("id"),c=f?p:x("#"+c),(e=p.find(".premium-vscroll-sections-wrap").data("animation"))&&(c.offset().top+c.innerHeight()-x(document).scrollTop()+m.offset<d.outerHeight()?(p.find(".premium-vscroll-sections-wrap[data-animation="+e+"] .premium-vscroll-temp:last-of-type > div").addClass("premium-vscroll-parallax-last"),p.find(".premium-vscroll-sections-wrap[data-animation="+e+"] .premium-vscroll-temp>div").addClass("premium-vscroll-parallax-position")):(p.find(".premium-vscroll-sections-wrap[data-animation="+e+"] .premium-vscroll-temp:last-of-type > div").removeClass("premium-vscroll-parallax-last"),p.find(".premium-vscroll-sections-wrap[data-animation="+e+"] .premium-vscroll-temp > div").removeClass("premium-vscroll-parallax-position"))),v&&(x(".premium-vscroll-tooltip").hide(),a!==h.length-1||o?0!==a||o?p.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"):200<p.offset().top-x(document).scrollTop()&&p.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):p.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide")),D()&&(t=y(g)),(t=k()?T(g):t)&&g.hasOwnProperty(t)&&(n=u.checkPrevSection(g,t),i=u.checkNextSection(g,t),r="up"==l?!i&&g[t].offset<s?t:n:!n&&g[t].offset-m.offset>s+5?t:i,c=u.getAverage(S,10),e=u.getAverage(S,70)<=c,r?(C=!0,(u.isScrolled(t,l)||v)&&(p.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").removeClass("premium-vscroll-dots-hide"),x("#scroller-"+r).data("iscrollInstance"),e&&!w&&u.onAnchorChange(r))):(c<=5&&(C=!1),a=f?p:x("#"+t),"down"==l?600<a.offset().top+a.innerHeight()-x(document).scrollTop()&&p.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide"):"up"==l&&p.find(".premium-vscroll-dots, .premium-vscroll-nav-menu").addClass("premium-vscroll-dots-hide")))},u.onResize=function(){u.setSectionsData(),u.sectionsOverflowRefresh()},u.getAverage=function(e,t){for(var o=0,r=e.slice(Math.max(e.length-t,1)),n=0;n<r.length;n++)o+=r[n];return Math.ceil(o/t)},u.vscrollEffects=function(){var e,c=p.find(".premium-vscroll-sections-wrap").data("animation");function t(){0<x(".eb-project-overlay").length||(window.requestAnimationFrame?window.requestAnimationFrame(o):o())}function o(){var s=x(window).scrollTop(),a=x(window).height();e.each(function(){var e,t,o,r,n=x(this),i=s-n.offset().top,l=function(e,t,o){var r=100,n="0deg",i=1,l=1;-t<=e&&e<=0?(r=100*-e/t,"rotate"===o?(r=0,n="0deg"):"scaleDown"===o&&(i=l=1)):0<e&&e<=t?"rotate"===o?(i=(1-e/t).toFixed(5),n=100*e/t+"deg",r=0):"scaleDown"===o?(l=(1-.3*e/t).toFixed(5),i=(1-e/t).toFixed(5),r=0,0):r=50*-e/t:e<-t?(r=100,"scaleDown"===o&&(i=l=1)):"rotate"===o?(r=0,n="90deg"):r="scaleDown"===o?(i=.7,l=0):-50;return[r,n,i,l]}(i,a,c);e=n.children("div"),t=l[0],o=l[1],r=l[2],l=l[3],e.css({transform:"translateY("+t+"vh) rotateX("+o+") scale("+l+")",opacity:r}),0<=i&&i<a?n.addClass("visible"):n.removeClass("visible")})}c&&(e=p.find(".premium-vscroll-temp"),t(),x(window).on("scroll",t))}},x(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-vscroll.default",e)})}(jQuery);